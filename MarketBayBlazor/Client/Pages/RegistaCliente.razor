@page "/registerclient"
@using MarketBayBlazor.Client.Services
@inject IClientService ClientService

<h3>RegistarCliente</h3>

<EditForm Model="@cliente" OnValidSubmit="@Registar">
    <DataAnnotationsValidator/>    
    <ValidationSummary/>
    <InputText id="Nome" @bind-Value="cliente.Conta.Nome" placeholder="Nome Completo" />
    <InputText id="Email" @bind-Value="cliente.Conta.Email" placeholder="Email" />
    <InputText id="Password" type="password" @bind-Value="cliente.Conta.Password" placeholder="Password" />
    <InputText id="Contacto" @bind-Value="cliente.Conta.NumeroTelemovel" placeholder="Contacto" />
    <button type="submit" value="Regito de Conta Cliente"/>
</EditForm>

@code {

        private Cliente cliente = new Cliente()
        {
            Conta = new Conta(),
        };

    public async void Registar()
    {
        await ClientService.RegistaCliente(this.cliente);
    }
}

